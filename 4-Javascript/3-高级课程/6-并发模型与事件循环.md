JavaScript的并发模型基于"事件循环"

## 1 运行时概念 ##
JavaScript引擎着重实现和优化了以下几个方面：

### 1.1 可视化描述 ### 
![](https://i.imgur.com/WroiLkQ.png)

#### 1.1.1 栈 #### 
函数调用 形成了一个栈帧
```javascript
function foo(b) {
  var a = 10;
  return a + b + 11;
}

function bar(x) {
  var y = 3;
  return foo(x * y);
}

console.log(bar(7));
```

- 调用bar时，创建了第一个帧，帧中包含了bar的参数和局部变量。
- bar调用foo时，第二个帧被创建，并被压到第一个帧之上，帧中包含了foo的参数和局部变量。
- 当foo返回时，最上层的帧就被弹出栈（剩下bar函数的调用帧）。
- 当bar返回时，栈就空了

#### 1.1.2 堆 ####
对象被分配在一个堆中，一堆里

#### 1.1.3 队列 #### 
- 一个JavaScript运行时包含了一个待处理的消息队列。
- 每一个消息都与一个函数相关联
- 当栈拥有足够内存时，从队列中取出一个消息进行处理

这个处理过程，包含了调用与这个消息相关联的函数，以及创建了一个初始堆栈帧。当栈再次为空的时候，也意味着消息处理结束

## 2 事件循环 ##



















 